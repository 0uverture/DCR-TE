\documentclass[12pt]{article}

\usepackage{hyperref}
\usepackage[utf8]{inputenc}
\usepackage{cite}
\usepackage{placeins}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{graphicx}

\linespread{1.5}

\definecolor{listinggray}{gray}{0.9}
\definecolor{lbcolor}{rgb}{0.9,0.9,0.9}

\newcommand\cpp{C\nolinebreak[4]\hspace{-.05em}\raisebox{.4ex}{\relsize{-3}{\textbf{++}}}}

\lstset {
	    backgroundcolor=\color{lbcolor},
	    tabsize=4,    
	    language=[GNU]C++,
        basicstyle=\scriptsize,
        upquote=true,
        aboveskip={1.5\baselineskip},
        columns=fixed,
        showstringspaces=false,
        extendedchars=false,
        breaklines=true,
        prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
        frame=single,
        numbers=left,
        showtabs=false,
        showspaces=false,
        showstringspaces=false,
        identifierstyle=\ttfamily,
        keywordstyle=\color[rgb]{0,0,1},
        commentstyle=\color[rgb]{0.026,0.112,0.095},
        stringstyle=\color[rgb]{0.627,0.126,0.941},
        numberstyle=\color[rgb]{0.205, 0.142, 0.73}
}

\author{Mikkel Gaub, Malthe Ettrup Kirkbro \& Mads Frederik Madsen}
\title{Thesis Agreement}
\date{\today}

\begin{document}

\maketitle
\thispagestyle{empty}

\vspace{\fill}

\begin{abstract}
Lorem ipsum
\end{abstract}

\pagebreak

\tableofcontents

\pagebreak

	\section{Introduction}

	In an increasingly digital business world, collaboration between companies is an everyday occurrence.
	An intuitive way to model such a collaboration, is by using workflow, which will be the basis of this article.
	Performing collaborative work on a workflow between multiple, possibly untrusted, parties is mostly the same challenge as is posed in any distributed network. 
	Most solutions to this are however cumbersome in that they require a very large amount of data to be transmitted.
	We will investigate whether or not it is possible to create a secure implementation of a Dynamic Condition Response\cite{dcr-paper} (DCR) engine using Intel Software Guard Extensions\cite{intel-sgx-explained} (SGX).

	\section{Related works}

	An existing platform which partially solves this problem is Ethereum\cite{ethereum-white-paper}, which is a distributed computing platform based on blockchain technologies.
	It does however also feature a currency, making computations disproportionately expensive, and the excessive computations needed by proof-of-work based blockchains.

	\section{Background}

	The three primary components of the proposed solution are as follows: the workflow, which will be described with DCR, Intel SGX and method for achieving distributed consensus.

		\subsection{Dynamic Condition Response}

		A DCR graph is a representation of a workflow.
		The graph is made up of one or more activities with a number of relations between them. 
		The following section is loosely based on a similar description found in previous work\cite{dcreum}.

		\subsubsection{Activity}

		The activities in a DCR graph have three attributes: included, executed and pending. 
		The attributes can be true or false. 
		Furthermore an activity can have role and actor specific execution rights.

			\paragraph{Included attribute}

			If the include attribute of an activity is true, the activity is included and it can be executed. 
			If the attribute is false, the activity is excluded and can no longer be executed.

			\paragraph{Pending attribute}

			If any activity in a workflow has a pending attribute that is true and the activity is included, the workflow is in an unfinished state.
			Every time an activity is executed its pending attribute is set to false.
			This means that setting the pending attribute of an included activity to true is specifying that this activity must be executed or excluded at some point to leave the workflow in a finished state.

			\paragraph{Executed attribute}

			If an activities executed attribute is false executing the activity will set its executed attribute to true.
			Executing an already executed activity will have no effect on the executed attribute.

		\subsubsection{Relations}

		There are five types of relations which define different types of relationships between activities in a workflow. 
		These relations are:

		\begin{description}
			\item[Condition] If there is a condition relation from activity $A$ to activity $B$, then $B$ can only be executed if $A$'s executed attribute is true or $A$ is excluded.
			\item[Response] If there is a response relation from activity $A$ to activity $B$, then $B$'s pending attribute will be set to true every time $A$ is executed.
			\item[Include] If there is an include relation from activity $A$ to activity $B$, then $B$'s included attribute will be set to true every time $A$ is executed.
			\item[Exclude] If there is an exclude relation from activity $A$ to activity $B$, then $B$'s included attribute will be set to false every time $A$ is executed.
			\item[Milestone] If there is a milestone relation from activity $A$ to activity $B$, then $B$ can only be executed if $A$'s pending attribute is false or $A$'s included attribute is false.
		\end{description}

		\subsection{SGX}

		Intel SGX is a technology which allows users to define protected areas of memory, so called enclaves, and run code within these enclaves.
		Intel can then guarantee that any code run this way is unmolested by any process running outside of the enclave.
		An additional feature of Intel SGX is that the result of any code run using Intel SGX can be verified by other users, given the code and the output.
		This is made possible through asymmetric encryption, with Intel as the key distributor.
		To ensure that keys are only distributed to trusted users, Intel offers attestation services as a way of key distribution.

		\subsection{Consensus}

	\section{Challenges}

		\subsection{SGX}

		Due to SGX being a security guarantee made by Intel all work involving it, the proposed project requires absolute trust in Intel keeping private keys secure and them not violating the confidentiality of machines with their hardware.

		\subsection{Consensus}	

	\section{Implementation}

	In order to demonstrate that the proposed solution could work, we demonstrate the implementation of a monotonic counter in \cpp.

	\section{Conclusion}

	\begin{thebibliography}{9}

		\bibitem{ethereum-white-paper}
		Various authors.
		\textit{Ethereum White Paper}.
		\url{https://github.com/ethereum/wiki/wiki/White-Paper}.
		Accessed 2017-12-11.

		\bibitem{dcr-paper}
		Thomas T. Hildebrandt \& Raghava Rao Mukkamala.
		\textit{Declarative Event-Based Workflow as Distributed Dynamic Condition Response Graphs}.
		IT University of Copenhagen.

		\bibitem{intel-sgx-explained}
		Victor Costan \& Srinivas Devadas.
		\textit{Intel SGX Explained}.
		Computer Science and Artificial Intelligence Laboratory Massachusetts Institute of Technology.

		\bibitem{dcreum}
		Mikkel Gaub, Tróndur Høgnason, Malthe Ettrup Kirkbro \& Mads Frederik Madsen.
		\textit{Consensus in declarative process models using distributed smart-contracts}.

	\end{thebibliography}

\end{document}